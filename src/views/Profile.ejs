<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/mvp.css">

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.9/sweetalert2.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.9/sweetalert2.min.js"></script>

    <title>Your Profile</title>
    <style>
        .link{
            cursor: pointer;
        }
    </style>
</head>
<body>

    <article id="proMain">
        <a @click.prevent="logout" class="link">Logout</a>
        <h1>Hello from profile</h1>
    </article>
    

    <script>
       new Vue({
        el: '#proMain', 
        
            methods: {
               async logout(){
                    console.log('Logout');
                    const log= 'logout';
                    const data= {log};
                    const options = {
                           method:'POST',
                           headers:{'Content-Type': 'application/json'},
                           body: JSON.stringify(data)
                          };
                   await fetch('/auth/logout', options).then((res, err)=>{
                       if(res.status === 200 || res.status === 201){
                           window.location.href= '/';
                       }else if(err){
                           console.log(err);
                       }
                   });
                },//function
            },
       });
    </script>
</body>
</html>